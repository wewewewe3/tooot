-function(){"use strict";var h=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},l=function(a){if(h(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&h(a))return a;return null},m=function(a,b,c){a=parseInt(a.getAttribute(b),10);isNaN(a)&&(a=c);return a},n=function(a,b,c){a=parseFloat(a.getAttribute(b));isFinite(a)||(a=c);return a},q=function(a,b,c,d){d=d||b;a.hasAttribute(b)?(a=a.getAttribute(b),c.setAttribute(d,a)):c.removeAttribute(d)};var r=function(a,b){return a.x*b.x+a.y*b.y},v=function(a,b){return u(b,r(a,b))},u=function(a,b){return w(a.x*b,a.y*b)},w=function(a,b){return{x:a,y:void 0!==b?b:a}};var x=function(a,b){return setInterval(a,b)};var y=["-ms-","-moz-","-webkit-",""],z=function(a,b,c){for(var d,e,k=0;k<y.length;++k)d=y[k]+b,e=""+c,a.style.setProperty(d,e)};var A=function(a,b,c){var d;c?(d=document.createEvent("CustomEvent"),d.initCustomEvent(a,!0,!0,c)):(d=document.createEvent("Event"),d.initEvent(a,!0,!0));b.dispatchEvent(d);return d},B=function(a,b){var c=function(d){a.removeEventListener("attached",c);b(d)};a.addEventListener("attached",c)};var C=function(a){a=a.trim();return window.Enabler?Enabler.getUrl(a):a};var D=function(a){var b=document.createElement("img","gwd-image");b.setAttribute("source",a);return b},E=function(a){var b=[];if(a){a=a.split(",");for(var c=0;c<a.length;++c)/\S/.test(a[c])&&b.push(D(C(a[c])))}return b},F=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];"img"==e.tagName.toLowerCase()&&"gwd-image"==e.getAttribute("is")&&(null!=b?e.setAttribute("scaling",b):e.removeAttribute("scaling"))}},G=function(a,b){for(var c=b.length,d=b.splice(0,c),e,k=0;k<c;k++)e=d[k],"frameshown"==
e?A(e,a,{id:a.currentIndex}):A(e,a)};document.registerElement&&document.registerElement("gwd-swipegallery",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.A=!1;this.B=this.c=null;this.d=[];this.b=null;if(this.J=this.hasAttribute("images"))for(;this.firstChild;)this.removeChild(this.firstChild);this.l=w(0);var a=document.createElement("gwd-gesture");a.className="gesture";this.f=a;this.j=!1;this.e=null;this.M=this.onOutGesture_.bind(this);this.O=this.onOverGesture_.bind(this);this.K=this.onMoveGesture_.bind(this);
this.L=this.onOutContainer_.bind(this);this.N=this.onOverContainer_.bind(this);this.G=this.onClickContainer_.bind(this);this.U=this.onTrack_.bind(this);this.T=this.onTrackEnd_.bind(this);this.S=this.onTap_.bind(this);this.I=this.onFrameTap_.bind(this);this.P=this.onFramesLoad_.bind(this);this.t=A.bind(null,"firstinteraction",this);this.F=!1;this.D=[];this.n=G.bind(null,this,this.D);this.Q=this.R=this.r=0;this.k=null;this.a=0;this.w=1;this.s=[];this.v=0;this.g=1;this.W=.7;this.p=0;this.q=!1;this.C=
w(0);this.u=w(0);this.h=null;this.H=[];this.o=w(-1,-1);a="y"==this.getAttribute("swipe-axis");this.i=w(a?0:1,a?1:0)},enumerable:!0},attachedCallback:{value:function(){this.f.addEventListener("pointerover",this.O,!1);this.f.addEventListener("pointerout",this.M,!1);this.f.addEventListener("pointermove",this.K,!1);this.f.addEventListener("track",this.U,!1);this.f.addEventListener("trackend",this.T,!1);this.f.addEventListener("tap",this.S,!1);this.addEventListener("frametap",this.I,!1);this.addEventListener("transitionend",
this.n,!1);this.addEventListener("webkitTransitionEnd",this.n,!1);if("function"==typeof this.gwdLoad&&"function"==typeof this.gwdIsLoaded&&!this.gwdIsLoaded()){var a=l(this),b=a&&"function"==typeof a.gwdIsLoaded;(!a||b&&a.gwdIsLoaded())&&this.gwdLoad()}},enumerable:!0},detachedCallback:{value:function(){this.f.removeEventListener("pointerover",this.O,!1);this.f.removeEventListener("pointerout",this.M,!1);this.f.removeEventListener("pointermove",this.K,!1);this.f.removeEventListener("track",this.U,
!1);this.f.removeEventListener("trackend",this.T,!1);this.f.removeEventListener("tap",this.S,!1);this.removeEventListener("frametap",this.I,!1);this.removeEventListener("transitionend",this.n);this.removeEventListener("webkitTransitionEnd",this.n)},enumerable:!0},attributeChangedCallback:{value:function(a){switch(a){case "images":this.d=E(this.getAttribute("images"));this.loadFrames_();this.styleAndStart_();break;case "scaling":F(this.d,this.getAttribute("scaling"));break;case "has-navigation":case "navigation-highlight":case "navigation-thumbnails":this.updateNavigationElement_();
this.styleAndStart_();break;case "frame-snap-interval":case "transition-duration":case "exit-urls":this.updateSettings_();break;case "frame-width":case "frame-height":case "num-frames-to-display":this.updateSettings_();this.styleAndStart_();break;case "disable-gesture":case "offset":case "start-frame":case "swipe-threshold-ratio":case "swipe-committed-threshold-ratio":this.styleAndStart_()}},enumerable:!0},updateSettings_:{value:function(){var a=m(this,"num-frames-to-display",1),b=m(this,"frame-snap-interval",
1),c=m(this,"transition-duration",600),d=m(this,"frame-width",-1),e=m(this,"frame-height",-1),k;k=this.hasAttribute("exit-urls")?this.getAttribute("exit-urls"):"";this.o.x=d;this.o.y=e;-1!=r(this.o,this.i)?a=-1:0<a&&b>a&&(b=a);d=k.split(/,/g);this.m=a;this.g=b;this.r=c;this.H=d}},styleAndStart_:{value:function(){var a=w(this.clientWidth,this.clientHeight);this.h&&(a.y-=36,this.B.style.height=a.y+"px");var b=this.i,c=u(b,m(this,"offset",0)),d=n(this,"swipe-threshold-ratio",.1),e=n(this,"swipe-committed-threshold-ratio",
.5),k=this.m,f=this.o,f=w(-1==f.x?a.x:f.x,-1==f.y?a.y:f.y),g=w(0);1<k&&(g=u(b,k-1),g=w(g.x*c.x,g.y*c.y),g=v(w((a.x-g.x)/k,(a.y-g.y)/k),b),g.x&&(f.x=g.x),g.y&&(f.y=g.y));var k=m(this,"start-frame",this.m?1+Math.ceil(this.m/2-1):1),t=this.hasAttribute("disable-gesture"),g=v(w(f.x+c.x,f.y+c.y),b),p;p=1+2*Math.floor((r(b,a)-r(b,f))/(2*r(b,g)));if(1>p||!isFinite(p))p=1;a=w((a.x-f.x)/2,(a.y-f.y)/2);0<this.m&&0==this.m%2&&(c=v(w(f.x+c.x,f.y+c.y),b),a.x-=.5*c.x,a.y-=.5*c.y,p+=1);this.u=f;this.C=a;this.w=
p;this.p=r(g,this.i);this.j=t;this.R=r(f,b)*d;this.Q=r(f,b)*e;d=v(a,w(b.y,b.x));for(c=0;c<this.a;c++)e=this.d[c].style,e.left=d.x+"px",e.top=d.y+"px",e.width=f.x+"px",e.height=f.y+"px",d.x+=g.x,d.y+=g.y;this.l=w(0);this.c&&(this.animate_(0,0,0),b=v(a,b),this.c.style.left=b.x+"px",this.c.style.top=b.y+"px");this.b=null;this.goToFrame(k,"none")},enumerable:!1},gwdIsLoaded:{value:function(){return this.A},enumerable:!0},gwdLoad:{value:function(){if(!this.A&&!this.c){var a;if(this.J)a=E(this.getAttribute("images"));
else{a=this.childNodes;for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];e.nodeType==Node.ELEMENT_NODE&&b.push(e)}a=b}this.d=a;this.loadFrames_()}},enumerable:!0},goToFrame:{value:function(a,b){if(0!=this.a){a>this.a?a=this.a:1>a&&(a=1);var c=a-1,c=c-c%this.g,c=c+Math.floor((this.g-1)/2);c>=this.a&&(c=this.a-1);var d=this.b;this.b=c;c=u(this.i,-this.p*this.b);this.animate_("none"!=b?this.r:0,c.x,c.y);this.l=c;this.markViewedFrames_();d!=this.b&&(this.maybeActivateFrame_(this.b+1),this.D.push("frameshown"));
this.F||this.n()}},enumerable:!0},markViewedFrames_:{value:function(){if(this.v)for(var a=Math.floor((this.w-1)/2),b=0;b<this.w;b++){var c=this.b-a+b;if(!(0>c||c>=this.a||this.s[c]||(this.s[c]=!0,--this.v))){this.D.push("allframesviewed");break}}}},animate_:{value:function(a,b,c){this.F=0<a;z(this.c,"transition","all "+a+"ms");z(this.c,"transform","translate3d("+b+"px,"+c+"px,0)")},enumerable:!1},loadFrames_:{value:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.h=null;this.c&&
(this.c.removeEventListener("pageload",this.P,!1),this.c.removeEventListener("mouseover",this.N,!0),this.c.removeEventListener("mouseout",this.L,!0),this.c.removeEventListener("click",this.G,!0));for(var a=this.d,b=document.createElement("div","gwd-page"),c,d=0;d<a.length;++d)c=a[d],z(c,"user-select","none"),c.classList.add("frame"),b.appendChild(c);B(b,b.gwdLoad.bind(b));this.c=b;b.className="container";this.c.addEventListener("pageload",this.P,!1);this.c.addEventListener("mouseover",this.N,!0);
this.c.addEventListener("mouseout",this.L,!0);this.c.addEventListener("click",this.G,!0);F(this.d,this.getAttribute("scaling"));this.a=this.d.length;this.B=a=document.createElement("div");a.className="matte";a.appendChild(b);this.appendChild(this.B);this.appendChild(this.f)},enumerable:!1},onFramesLoad_:{value:function(a){a.target===this.c&&(this.A=!0,this.v=this.a,this.s=[],this.updateSettings_(),this.updateNavigationElement_(),this.styleAndStart_(),A("allframesloaded",this),this.hasAttribute("autoplay")&&
(a=parseInt(this.getAttribute("autoplay-duration"),10)||3E3,setTimeout(this.rotateOnce.bind(this,a),0)),A("ready",this))},enumerable:!1},rotateOnce:{value:function(a,b){if(this.a&&!this.k){for(var c=a||this.r,d=b||"forwards",e=Math.ceil(this.a/this.g),k=Math.floor(this.b/this.g),f=[],g=1;g<e;g++)f.push((e+("forwards"==d?k+g:k-g))%e*this.g);f.push(this.b);var t=0;this.k=x(function(){this.goToFrame(f[t++]+1);t>=f.length&&this.stopRotation()}.bind(this),c/f.length)}},enumerable:!0},currentIndex:{get:function(){return 0<
this.a?this.b+1:void 0},enumerable:!0},getFrame:{value:function(a){return this.d[a-1]},enumerable:!0},goForwards:{value:function(a){null!=this.b&&this.goToFrame(this.b+1+this.g,a||"slide")},enumerable:!0},goBackwards:{value:function(a){null!=this.b&&this.goToFrame(this.b+1-this.g,a||"slide")},enumerable:!0},stopRotation:{value:function(){this.k&&(clearInterval(this.k),this.k=null)},enumerable:!1},indicateCurrentSwipe_:{value:function(a){if(0<a&&0===this.b||0>a&&this.b===this.a-1)a-=a*this.W;this.animate_(0,
this.l.x+this.i.x*a,this.l.y+this.i.y*a)}},completeCommittedMove_:{value:function(a){var b=this.a;if(b){var c=this.b;a=this.getNewFrameIndex_(a);this.goToFrame(a+1);c!=a&&(0==a?A("reachleftend",this):a==b-1&&A("reachrightend",this))}}},updateNavigationElement_:{value:function(){var a=this.hasAttribute("has-navigation"),b=!!this.h;a&&!b?(a=this.id||this.getAttribute("data-gwd-grp-id"),this.h=document.createElement("gwd-gallerynavigation"),this.h.setAttribute("for",a),this.classList.add("has-navigation"),
this.appendChild(this.h)):!a&&b&&(this.classList.remove("has-navigation"),this.removeChild(this.h),this.h=null);this.h&&(q(this,"navigation-highlight",this.h,"highlight"),q(this,"navigation-thumbnails",this.h,"use-thumbnails"))}},getNewFrameIndex_:{value:function(a){var b=this.b;Math.abs(a)>this.R&&(b=0>a?b+this.g:b-this.g);0>b?b=0:b>=this.a&&(b=this.a-1);return b}},maybeActivateFrame_:{value:function(a){this.V!=a&&(this.V=a,A("frameactivated",this,{id:a||this.currentIndex}))}},onTrack_:{value:function(a){this.j||
(this.t&&(this.t(),this.t=null),this.q||(this.stopRotation(),a=r(w(a.dx,a.dy),this.i),this.maybeActivateFrame_(this.getNewFrameIndex_(a)+1),Math.abs(a)>this.Q?(this.completeCommittedMove_(a),this.q=!0):this.indicateCurrentSwipe_(a)))},enumerable:!1},onTrackEnd_:{value:function(a){this.j||(this.q?this.q=!1:this.completeCommittedMove_(r(w(a.dx,a.dy),this.i)))},enumerable:!1},getFrameIndexForGestureMouseEvent_:{value:function(a){var b=this.getBoundingClientRect();a=w(a.clientX-b.left,a.clientY-b.top);
var b=this.i,c=w(b.y,b.x),b=r(c,a),d=r(c,this.C),c=r(c,this.u);if(b<d||b>d+c)return null;b=this.i;a=r(b,a)-r(b,this.l)-r(b,this.C);b=Math.floor(a/this.p);return 0>b||b>=this.a||a%this.p>r(this.i,this.u)?null:b}},onTap_:{value:function(a){this.j||(this.stopRotation(),a=this.getFrameIndexForGestureMouseEvent_(a),null!=a&&A("frametap",this,{element:this.d[a],id:a+1}))},enumerable:!1},onFrameTap_:{value:function(a){(a=a.detail&&a.detail.id)&&(a=this.H[a-1])&&!A("frameexit",this,{url:a}).detail.handled&&
window.open(a)}},onOutGesture_:{value:function(){this.j||null==this.e||(A("framemouseout",this,{element:this.d[this.e],id:1+this.e}),this.e=null)}},onOverGesture_:{value:function(a){this.j||(a=this.getFrameIndexForGestureMouseEvent_(a),a!=this.e&&(null!=this.e&&A("framemouseout",this,{element:this.d[this.e],id:1+this.e}),null!=a&&A("framemouseover",this,{element:this.d[a],id:1+a}),this.e=a))}},onMoveGesture_:{value:function(a){this.j||(a=this.getFrameIndexForGestureMouseEvent_(a),a!=this.e&&(null!=
this.e&&A("framemouseout",this,{element:this.d[this.e],id:1+this.e}),null!=a&&A("framemouseover",this,{element:this.d[a],id:1+a}),this.e=a))}},onOverContainer_:{value:function(a){this.j&&a.target.classList.contains("frame")&&A("framemouseover",this,{element:a.target,id:1+this.d.indexOf(a.target)})}},onOutContainer_:{value:function(a){this.j&&a.target.classList.contains("frame")&&A("framemouseout",this,{element:a.target,id:1+this.d.indexOf(a.target)})}},onClickContainer_:{value:function(a){this.j&&
a.target.classList.contains("frame")&&A("frametap",this,{element:a.target,id:1+this.d.indexOf(a.target)})}},frameSnapInterval:{get:function(){return this.g}},frameCount:{get:function(){return this.a}}})});}()
